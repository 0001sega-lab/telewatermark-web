<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TEST file input</title>
<style>body{font-family:system-ui,Arial,sans-serif;padding:20px}#log{white-space:pre-wrap;border:1px solid #ccc;padding:8px;border-radius:8px}</style>
<h1>Проверка выбора файла</h1>

<p><b>1)</b> Нажмите «Выбрать файл», укажите <i>любой</i> видеофайл (или фото для теста).</p>
<p><b>2)</b> Ниже должны появиться имя, тип и размер. Кнопка станет активной.</p>

<input id="file" type="file" accept="*/*">
<button id="go" disabled>Начать обработку (тест)</button>
<div id="log" style="margin-top:12px"></div>

<script>
  const $file = document.getElementById('file');
  const $go   = document.getElementById('go');
  const $log  = document.getElementById('log');

  function dump() {
    const f = $file.files && $file.files[0];
    if (f) {
      $go.disabled = false;
      $log.textContent = `OK: name=${f.name}\ntype=${f.type}\nsize=${(f.size/1048576).toFixed(2)} MB`;
    } else {
      $go.disabled = true;
      $log.textContent = 'files[0] пусто';
    }
  }

  // максимально совместимые обработчики
  $file.onchange = dump;
  $file.oninput = dump;
  document.addEventListener('change', (e)=>{ if(e.target===$file) dump(); });

  // таймер на случай задержки от вебвью
  setInterval(dump, 1000);
</script>
